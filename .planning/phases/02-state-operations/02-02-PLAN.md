---
phase: 02-state-operations
plan: 02
type: execute
depends_on: ["02-01"]
files_modified: [src/commands/workflows.ts]
---

<objective>
Add activate and deactivate commands for workflow state management.

Purpose: Complete the workflow state operations with simple toggle commands.
Output: Working activate and deactivate commands that change workflow state.
</objective>

<execution_context>
~/.claude/get-shit-done/workflows/execute-plan.md
./summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-state-operations/02-01-SUMMARY.md

@src/client/index.ts
@src/commands/workflows.ts

**Tech stack available:** Commander.js, Node.js fetch, chalk
**Established patterns:**
- Commands: `workflows.command('name').description().argument().option().action(async () => {})`
- Output formatting: `formatOutput(data, format, 'workflow')` for single workflow
- Debug logging with `debug(globalOpts, message)`
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add workflows activate command</name>
  <files>src/commands/workflows.ts</files>
  <action>
Add `workflows activate <id>` command:

1. Arguments: `<id>` - Workflow ID (required)
2. Options: `--json` - Output as JSON

3. Implementation:
   - Call `client.activateWorkflow(id)`
   - Output the returned workflow using formatOutput with 'detail' format (or 'json' if --json)
   - Debug log: "Activating workflow {id}..." before, "Activated workflow: {id}" after

Follow existing patterns from `workflows get` command for structure.
  </action>
  <verify>npm run build succeeds; npm run cli -- workflows activate --help shows command</verify>
  <done>Activate command exists, accepts workflow ID, returns updated workflow</done>
</task>

<task type="auto">
  <name>Task 2: Add workflows deactivate command</name>
  <files>src/commands/workflows.ts</files>
  <action>
Add `workflows deactivate <id>` command:

1. Arguments: `<id>` - Workflow ID (required)
2. Options: `--json` - Output as JSON

3. Implementation:
   - Call `client.deactivateWorkflow(id)`
   - Output the returned workflow using formatOutput with 'detail' format (or 'json' if --json)
   - Debug log: "Deactivating workflow {id}..." before, "Deactivated workflow: {id}" after

Mirror the activate command structure exactly.
  </action>
  <verify>npm run build succeeds; npm run cli -- workflows deactivate --help shows command</verify>
  <done>Deactivate command exists, accepts workflow ID, returns updated workflow</done>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] `npm run build` succeeds without errors
- [ ] `npm run cli -- workflows activate --help` shows command
- [ ] `npm run cli -- workflows deactivate --help` shows command
- [ ] `npm run cli -- workflows --help` shows all 6 commands (list, get, create, update, delete, activate, deactivate)
</verification>

<success_criteria>

- All tasks completed
- All verification checks pass
- No TypeScript errors
- Phase 2 complete: delete, activate, deactivate commands all working
</success_criteria>

<output>
After completion, create `.planning/phases/02-state-operations/02-02-SUMMARY.md`
</output>
